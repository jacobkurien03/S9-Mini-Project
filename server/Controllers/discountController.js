////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////
////////////////////////////NOOT WORKING//////////////////////////////

const Discount = require("../Models/discount");

//Show List of Users
const index = async (req, res, next) => {
  Discount.find()
    .then((response) => {
      res.json({
        response,
      });
    })
    .catch((error) => {
      res.json({
        message: "Error",
      });
    });
};

//Show Single User
const show = async (req, res, next) => {
  let discountId = req.body.discountId;
  Discount.findById(categoryId)
    .then((response) => {
      res.json({
        response,
      });
    })
    .catch((error) => {
      res.json({
        message: "Error!",
      });
    });
};

//Add User
const store = async (req, res, next) => {
  let category = new Discount({
    name: req.body.name,
    description: req.body.description,
  });
  category
    .save()
    .then((user) => {
      res.json({
        message: "Category Added Successfully",
      });
    })
    .catch((error) => {
      res.json({
        message: error,
      });
    });
};
//Add User
const addCategory = async (req, res, next) => {
  let category = new Discount({
    name: req.body.name,
    description: req.body.description,
  });
  category
    .save()
    .then((user) => {
      res.json({
        message: "Category Added Successfully",
      });
    })
    .catch((error) => {
      res.json({
        message: error,
      });
    });
};

//Delete a User
const destroy = async (req, res, next) => {
  let discountId = req.body.discountId;
  Discount.findByIdAndRemove(discountId)
    .then((user) => {
      res.json({
        message: "Category Deleted Successfully",
      });
    })
    .catch((error) => {
      res.json({
        message: error.message,
      });
    });
};

module.exports = {
  index,
  show,
  store,
  destroy,
  addCategory,
};
